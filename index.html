<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BIBLE & COFFEE | GLOBAL</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>

html{scroll-behavior:smooth}
body{
font-family:'Roboto Slab',serif;
background:#0a0a0a;
color:white;
margin:0
}

/* NAV */

.glass-nav{
background:rgba(0,0,0,.95);
border-bottom:1px solid rgba(255,255,255,.1);
position:fixed;
top:0;
width:100%;
z-index:1000;
padding:.7rem 1rem
}

.nav-links{
display:flex;
justify-content:flex-end;
flex-wrap:wrap;
gap:.5rem
}

.nav-links button{
font-size:13px;
font-weight:700;
letter-spacing:1px;
color:#bbb;
background:none;
border:2px solid #FCA311;
padding:.45rem .9rem;
border-radius:8px;
cursor:pointer;
transition:.3s
}

.nav-links button:hover{
background:#FCA311;
color:black;
transform:scale(1.05)
}

.active-link{
color:#FCA311
}

/* HERO */

.hero-bg{
min-height:100vh;
background:
linear-gradient(rgba(0,0,0,.8),rgba(10,10,10,1)),
url('hero.jpeg');
background-size:cover;
background-position:center;

display:flex;
flex-direction:column;
justify-content:center;
align-items:center;

padding:6rem 1.5rem 2rem;
text-align:center
}

.hero-title{
font-family:'Playfair Display',serif;
font-size:3rem;
line-height:1.1
}

.hero-motto{
font-size:1.5rem;
color:#FCA311;
margin-top:1rem
}

/* SOCIAL */

.social-icons{
display:flex;
gap:1.2rem;
margin-top:1.5rem
}

.social-icons a{
color:white;
transition:.3s
}

.social-icons a:hover{
color:#FCA311;
transform:scale(1.2)
}

/* SECTIONS */

main section{
display:none;
padding:120px 20px 80px;
max-width:1200px;
margin:auto;
text-align:center
}

main section.active{
display:block
}

/* MAG */

.mag-preview{
max-width:380px;
margin:auto
}

.mag-preview img{
width:100%;
border-radius:8px;
margin-bottom:12px
}

.btn-gold{
background:#FCA311;
color:black;
font-weight:700;
transition:.3s
}

.btn-gold:hover{
background:white
}

/* DESKTOP */

@media(min-width:768px){

.hero-bg{
align-items:flex-end;
text-align:right;
padding-right:4rem
}

.hero-title{
font-size:4rem
}

.hero-motto{
font-size:2rem
}

.social-icons{
justify-content:flex-end
}

}

</style>
</head>
<body>

<!-- NAV -->

<nav class="glass-nav">
<div class="nav-links">
<button onclick="showSection('home')" class="active-link">Home</button>
<button onclick="showSection('magazine')">Magazine</button>
<button onclick="showSection('events')">Events</button>
<button onclick="showSection('merch')">Merch</button>
<button onclick="showSection('join')">Join</button>
</div>
</nav>


<!-- HERO -->

<header id="home" class="hero-bg">

<h1 class="hero-title font-bold italic">
COFFEE MEETS<br>
<span class="text-[#FCA311]">THE WORD.</span>
</h1>

<p class="hero-motto">Thank God Itâ€™s Friday!</p>

<div class="social-icons">
<a href="#"><i data-lucide="instagram"></i></a>
<a href="#"><i data-lucide="facebook"></i></a>
<a href="#"><i data-lucide="youtube"></i></a>
<a href="#"><i data-lucide="mail"></i></a>
<a href="#"><i data-lucide="tiktok"></i></a>
</div>

</header>


<main>

<!-- MAG -->

<section id="magazine">

<h2 class="text-4xl font-bold text-[#FCA311] mb-10">
Weekly Magazine
</h2>

<div class="mag-preview">

<img src="megimage.jpeg">

<a href="magazine.pdf" target="_blank"
class="btn-gold w-full py-4 rounded inline-block mt-2">
Download PDF
</a>

</div>

</section>


<!-- EVENTS -->

<section id="events">

<h2 class="text-4xl font-bold text-[#FCA311] mb-4">
Events
</h2>

<p class="text-2xl tracking-[10px] text-white/20 py-20">
COMING SOON
</p>

</section>


<!-- MERCH -->

<section id="merch">

<h2 class="text-4xl font-bold mb-10">The Merch</h2>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">

<img src="merch2.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch3.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch4.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch5.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch6.jpeg" class="w-full h-80 object-cover rounded">

<div class="flex items-center justify-center border border-dashed border-white/10 text-gray-600">
NEW DROPS SOON
</div>

</div>

</section>


<!-- JOIN -->

<section id="join" class="active">

<div class="max-w-md mx-auto">

<h2 class="text-4xl font-bold mb-8 italic text-[#FCA311] uppercase">
Join Movement
</h2>

<div id="counterBox"
class="bg-[#FCA311]/10 border border-[#FCA311] p-4 mb-6 rounded hidden">

<p class="text-[#FCA311] text-xs font-bold uppercase">

Current Availability:
<span id="spotsLeft" class="text-white text-lg ml-2">8</span>

</p>

</div>


<form id="regForm" class="space-y-4">

<input id="name" required placeholder="YOUR NAME"
class="w-full bg-[#151515] border border-[#333] p-4 rounded">

<input id="email" type="email" required placeholder="EMAIL"
class="w-full bg-[#151515] border border-[#333] p-4 rounded">

<input id="phone" required placeholder="+251..."
class="w-full bg-[#151515] border border-[#333] p-4 rounded">


<div class="grid grid-cols-2 gap-4">

<select id="country" onchange="updateCities()" required
class="w-full bg-[#151515] border border-[#333] p-4 rounded">

<option disabled selected>SELECT</option>
<option>Ethiopia</option>
<option>Germany</option>
<option>USA</option>
<option>Netherlands</option>
<option>Kenya</option>

</select>

<select id="city" onchange="updateSubCities()" required
class="w-full bg-[#151515] border border-[#333] p-4 rounded">

<option disabled selected>SELECT</option>

</select>

</div>


<div id="subCityGroup" class="hidden">

<select id="subCity" onchange="checkSpots()"
class="w-full bg-[#151515] border border-[#333] p-4 rounded">

<option disabled selected>SELECT AREA</option>

</select>

</div>


<button id="subBtn" type="submit"
class="w-full bg-[#FCA311] text-black font-black py-5 rounded">

Confirm Registration

</button>

</form>

</div>

</section>

</main>


<script>

lucide.createIcons();

const SHEETDB_API="https://sheetdb.io/api/v1/9q45d3e7oe5ks";
const WHATSAPP_NUM="251910884585";
const LIMIT=8;

const locations={
"Ethiopia":{
"Addis Ababa":["Bole","Ayat","Megenagna","Mexico","Haile Garment","Old Airport"],
"Hawassa":["Main Center"],
"Adama":["Main Center"]
}
};

function showSection(id){

document.querySelectorAll("main section").forEach(s=>{
s.classList.remove("active");
});

document.getElementById(id).classList.add("active");

document.querySelectorAll(".nav-links button").forEach(b=>{
b.classList.remove("active-link");
});

event.target.classList.add("active-link");

window.scrollTo(0,0);

}


function updateCities(){

const c=country.value;
city.innerHTML="<option disabled selected>SELECT</option>";

subCityGroup.classList.add("hidden");
counterBox.classList.add("hidden");

if(locations[c]){

Object.keys(locations[c]).forEach(x=>{
city.add(new Option(x,x));
});

}

}


function updateSubCities(){

const arr=locations[country.value][city.value];

subCity.innerHTML="<option disabled selected>SELECT</option>";

arr.forEach(a=>{
subCity.add(new Option(a,a));
});

subCityGroup.classList.remove("hidden");

}


async function checkSpots(){

if(city.value==="Addis Ababa" && subCity.value){

counterBox.classList.remove("hidden");

const r=await fetch(`${SHEETDB_API}/search?City=${city.value}&Location=${subCity.value}`);
const d=await r.json();

const left=LIMIT-d.length;

spotsLeft.innerText=left>0?left:0;

if(left<=0){
subBtn.disabled=true;
subBtn.innerText="FULL";
}else{
subBtn.disabled=false;
subBtn.innerText="CONFIRM REGISTRATION";
}

}

}


regForm.onsubmit=async e=>{

e.preventDefault();

subBtn.innerText="PROCESSING...";

const data={
Name:name.value,
Email:email.value,
Phone:phone.value,
Country:country.value,
City:city.value,
Location:subCity.value||"General",
"Registration Date":new Date().toLocaleDateString(),
"Registration Time":new Date().toLocaleTimeString()
};

await fetch(SHEETDB_API,{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({data:[data]})
});

window.open(
`https://wa.me/${WHATSAPP_NUM}?text=Registered:%20${data.Name}`,
"_blank"
);

alert("Registered!");

regForm.reset();
counterBox.classList.add("hidden");
subBtn.innerText="Confirm Registration";

};

</script>

</body>
</html>
