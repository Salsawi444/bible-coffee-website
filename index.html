<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BIBLE & COFFEE | GLOBAL</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

<style>
html{scroll-behavior:smooth}
body{font-family:'Inter',sans-serif;background:#0a0a0a;color:#fff;margin:0}
h1,h2{font-family:'Oswald',sans-serif;text-transform:uppercase}

.hero-bg{
background:linear-gradient(rgba(0,0,0,.8),rgba(10,10,10,1)),url('hero.jpeg');
background-size:cover;
background-position:center;
min-height:100vh;
display:flex;
justify-content:center;
flex-direction:column;
}

.glass-nav{
background:rgba(0,0,0,.95);
border-bottom:1px solid rgba(255,255,255,.1);
position:fixed;
top:0;width:100%;z-index:999;
}

.nav-links{
display:flex;gap:20px;justify-content:center;padding:15px
}

.nav-links button{
font-size:11px;font-weight:700;letter-spacing:1px;color:#888;
background:none;border:none;cursor:pointer
}

.active-link{color:#FCA311}

.btn-gold{
background:#FCA311;color:#000;font-weight:800;
letter-spacing:2px;font-size:12px;
padding:16px;border-radius:4px;width:100%;border:none
}

.btn-outline{
border:2px solid #FCA311;color:#FCA311;font-weight:800;
letter-spacing:2px;font-size:12px;
padding:16px;border-radius:4px;width:100%;background:transparent
}

section{display:none;padding:110px 20px;max-width:1200px;margin:auto;text-align:center}
#home,#join{display:block}

input,select{
background:#151515;border:1px solid #333;color:#fff;
padding:14px;width:100%;border-radius:4px;margin-bottom:15px
}

.counter-box{
background:rgba(252,163,17,.1);
border:1px solid #FCA311;
padding:15px;margin-bottom:20px;border-radius:4px;display:none
}

.pdf-preview{
width:100%;height:500px;border:1px solid #333;border-radius:6px
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="glass-nav">
<div class="nav-links">
<button onclick="showSection('home',this)" class="active-link">HOME</button>
<button onclick="showSection('magazine',this)">MAGAZINE</button>
<button onclick="showSection('events',this)">EVENTS</button>
<button onclick="showSection('merch',this)">MERCH</button>
<button onclick="showSection('join',this)">JOIN</button>
</div>
</nav>

<!-- HOME -->
<header id="home" class="hero-bg">
<div class="px-6 text-center lg:text-right lg:px-24">

<h1 class="text-6xl lg:text-9xl font-bold italic mb-6">
COFFEE MEETS<br>
<span class="text-[#FCA311]">THE WORD.</span>
</h1>

<div class="flex flex-col lg:flex-row-reverse gap-4 max-w-md ml-auto">
<button onclick="showSection('magazine')" class="btn-gold">Weekly Magazine</button>
<button onclick="showSection('merch')" class="btn-outline">View Merch</button>
</div>

<div class="flex justify-center lg:justify-end gap-6 mt-12 text-white/50">
<i data-lucide="instagram"></i>
<i data-lucide="facebook"></i>
<i data-lucide="youtube"></i>
<i data-lucide="mail"></i>
</div>
</div>
</header>

<!-- MAGAZINE -->
<section id="magazine">
<h2 class="text-4xl font-bold text-[#FCA311] mb-6">Weekly Magazine</h2>
<p class="text-white/60 mb-6">Preview & download latest edition</p>

<div class="max-w-3xl mx-auto bg-[#111] p-4 rounded-lg border border-white/10">

<iframe src="megazine.pdf" class="pdf-preview mb-6"></iframe>

<a href="megazine.pdf" download onclick="countDownload()" class="btn-gold">
Download PDF
</a>

<p class="mt-3 text-sm text-white/50">
Downloads: <span id="dlCount">0</span>
</p>

</div>
</section>

<!-- EVENTS -->
<section id="events">
<h2 class="text-4xl font-bold text-[#FCA311] mb-4">Events</h2>
<p class="text-2xl tracking-[10px] text-white/20 py-20">COMING SOON</p>
</section>

<!-- MERCH -->
<section id="merch">
<h2 class="text-4xl font-bold mb-10">The Merch</h2>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
<img src="merch1.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch2.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch3.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch4.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch5.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch6.jpeg" class="w-full h-80 object-cover rounded">
</div>
</section>

<!-- JOIN -->
<section id="join" class="py-24 px-6 bg-[#0a0a0a]">
    <div class="max-w-md mx-auto">
        <h2 class="text-4xl font-bold text-center mb-8 italic text-[#FCA311] font-['Oswald'] uppercase tracking-tighter">Join Movement</h2>
        
        <div id="counterBox" class="bg-[#FCA311]/10 border border-[#FCA311] p-4 mb-6 rounded text-center hidden animate-pulse">
            <p class="text-[#FCA311] text-[10px] font-bold uppercase tracking-[3px]">
                Live Availability: <span id="spotsLeft" class="text-white text-xl ml-2 font-black">8</span> <span class="text-white/50 text-[10px]">Spots Left</span>
            </p>
        </div>

        <form id="regForm" class="space-y-4">
            <input type="text" id="name" placeholder="FULL NAME" required class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">
            <input type="email" id="email" placeholder="EMAIL ADDRESS" required class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">
            <input type="tel" id="phone" placeholder="PHONE (+251...)" required class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">

            <div class="grid grid-cols-2 gap-4">
                <select id="country" onchange="updateCities()" required class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none">
                    <option value="" disabled selected>COUNTRY</option>
                    <option value="Ethiopia">Ethiopia</option>
                    <option value="USA">USA</option>
                    <option value="Germany">Germany</option>
                </select>
                <select id="city" onchange="updateSubCities()" required class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none">
                    <option value="" disabled selected>CITY</option>
                </select>
            </div>

            <div id="subCityGroup" class="hidden">
                <select id="subCity" onchange="checkSpots()" class="w-full bg-[#111] border border-[#333] text-white p-4 rounded outline-none">
                    <option value="" disabled selected>SELECT YOUR AREA / SPOT</option>
                </select>
            </div>

            <button type="submit" id="subBtn" class="w-full bg-[#FCA311] text-black font-black uppercase tracking-widest py-5 rounded mt-4 hover:bg-white transition-colors duration-300">
                Confirm Registration
            </button>
        </form>
    </div>
</section>

<script>
lucide.createIcons();

const API="https://sheetdb.io/api/v1/9q45d3e7oe5ks";
const MAX=8;

const locations={
Ethiopia:{"Addis Ababa":["Bole","Ayat","Megenagna","Mexico","Haile Garment","Old Airport"]},
USA:{Dallas:["Downtown"]},
Germany:{Berlin:["Mitte"]}
};

/* SECTION */
function showSection(id,btn){
['home','magazine','events','merch','join'].forEach(s=>{
document.getElementById(s).style.display=s===id?'block':'none';
});
if(btn){document.querySelectorAll('.nav-links button').forEach(b=>b.classList.remove('active-link'));btn.classList.add('active-link');}
window.scrollTo(0,0);lucide.createIcons();
}

/* MAG DOWNLOAD */
let downloads=localStorage.getItem('megDL')||0;
document.getElementById('dlCount')?.innerText=downloads;
function countDownload(){downloads++;localStorage.setItem('megDL',downloads);document.getElementById('dlCount').innerText=downloads;}

/* LOCATION */
function updateCities(){
const c=document.getElementById('country').value;
const city=document.getElementById('city');
city.innerHTML='<option value="">CITY</option>';
if(locations[c]){Object.keys(locations[c]).forEach(x=>{let o=document.createElement('option');o.value=x;o.textContent=x;city.appendChild(o);});}
document.getElementById('subCityGroup').classList.add('hidden');
}

function updateSubCities(){
const c=document.getElementById('country').value;
const city=document.getElementById('city').value;
const sub=document.getElementById('subCity');
sub.innerHTML='<option value="">SELECT AREA</option>';
if(locations[c]&&locations[c][city]){locations[c][city].forEach(a=>{let o=document.createElement('option');o.value=a;o.textContent=a;sub.appendChild(o);});document.getElementById('subCityGroup').classList.remove('hidden');}
}

/* SPOTS */
async function checkSpots(){
const s=document.getElementById('subCity').value;
if(!s)return;
document.getElementById('counterBox').style.display='block';
const r=await fetch(`${API}/search?Spot=${s}`);
const d=await r.json();
const left=MAX-d.length;
document.getElementById('spotsLeft').innerText=Math.max(left,0);
const b=document.getElementById('subBtn');
if(left<=0){b.disabled=true;b.innerText='FULL';b.style.opacity=.5;}else{b.disabled=false;b.innerText='Confirm Registration';b.style.opacity=1;}
}

/* SUBMIT */
document.getElementById('regForm').addEventListener('submit',async e=>{
e.preventDefault();
const b=document.getElementById('subBtn');
b.innerText='SENDING...';b.disabled=true;
const data={
Name:document.getElementById('name').value,
Email:document.getElementById('email').value,
Phone:document.getElementById('phone').value,
Country:document.getElementById('country').value,
City:document.getElementById('city').value,
Location:document.getElementById('subCity').value,
Date:new Date().toLocaleDateString(),
Time:new Date().toLocaleTimeString()
};
await fetch(API,{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({data:[data]})
});
window.open(`https://wa.me/251910884585?text=Registered:%20${data.Name}%20-%20${data.Location}`,'_blank');
alert('Registered successfully üôè');
document.getElementById('regForm').reset();
document.getElementById('subCityGroup').classList.add('hidden');
document.getElementById('counterBox').style.display='none';
b.innerText='Confirm Registration';b.disabled=false;
});
</script>

</body>
</html>
