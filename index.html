<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BIBLE & COFFEE | GLOBAL</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>
html{scroll-behavior:smooth;}
body{
font-family:'Poppins',sans-serif;
background:#0a0a0a;
color:white;
margin:0;
}

/* NAV */
.glass-nav{
background:rgba(0,0,0,.95);
border-bottom:1px solid rgba(255,255,255,.1);
position:fixed;
top:0;
width:100%;
z-index:1000;
padding:8px 12px;
}

.nav-links{
display:flex;
justify-content:flex-end;
gap:10px;
overflow-x:auto;
}

.nav-links button{
font-size:12px;
font-weight:700;
color:#aaa;
background:none;
border:2px solid #FCA311;
padding:6px 14px;
border-radius:6px;
white-space:nowrap;
cursor:pointer;
transition:.3s;
}

.nav-links button:hover{
background:#FCA311;
color:black;
}

.active-link{
background:#FCA311;
color:black;
}

/* HERO */
.hero-bg{
background:
linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.7)),
url('hero.jpeg');
background-size:cover;
background-position:center;
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
}

.hero-inner{
max-width:1200px;
width:100%;
padding:20px;
display:grid;
grid-template-columns:1fr;
gap:40px;
text-align:center;
}

/* Vision */
.vision-box{
text-align:left;
background:rgba(0,0,0,.6);
padding:25px;
border-left:4px solid #FCA311;
border-radius:6px;
}

.vision-box h3{
color:#FCA311;
font-size:22px;
font-weight:700;
margin-bottom:10px;
}

.vision-box p{
color:#ccc;
line-height:1.6;
font-size:15px;
}

/* Hero Text */
.hero-title{
font-family:'Playfair Display',serif;
font-size:2.6rem;
font-style:italic;
line-height:1.2;
margin:0;
animation:fadeUp 1s ease forwards;
opacity:0;
}

.hero-title span{color:#FCA311;}

.hero-motto{
font-size:1.2rem;
color:#FCA311;
margin-top:10px;
font-weight:600;
animation:fadeUp 1s ease forwards;
animation-delay:.2s;
opacity:0;
}

.social-icons{
display:flex;
justify-content:center;
gap:18px;
margin-top:20px;
animation:fadeUp 1s ease forwards;
animation-delay:.4s;
opacity:0;
}

.social-icons a{
color:white;
transition:.3s;
}

.social-icons a:hover{
color:#FCA311;
transform:scale(1.2);
}

.tiktok{
width:22px;
height:22px;
fill:currentColor;
}

/* SECTIONS */
section{
display:none;
padding:120px 20px 80px;
max-width:1200px;
margin:auto;
text-align:center;
}

#home,#join{display:block;}

/* MAG */
.mag-preview{max-width:400px;margin:auto;}
.mag-preview img{
width:100%;
border-radius:8px;
}

/* ANIM */
@keyframes fadeUp{
from{opacity:0;transform:translateY(25px);}
to{opacity:1;transform:none;}
}

/* DESKTOP */
@media(min-width:768px){
.hero-inner{
grid-template-columns:1fr 1fr;
text-align:right;
align-items:center;
}
.hero-title{font-size:4rem;}
.hero-motto{font-size:1.6rem;}
.social-icons{justify-content:flex-end;}
.vision-box{
text-align:left;
}
}
</style>
</head>

<body>

<!-- NAV -->
<nav class="glass-nav">
<div class="nav-links">
<button onclick="showSection('home')" class="active-link">Home</button>
<button onclick="showSection('magazine')">Magazine</button>
<button onclick="showSection('events')">Events</button>
<button onclick="showSection('merch')">Merch</button>
<button onclick="showSection('join')">Join</button>
</div>
</nav>

<!-- HERO -->
<header id="home" class="hero-bg">
<div class="hero-inner">
<div class="vision-box">
<h3>Who We Are</h3>
<p>
Bible & Coffee is a global movement where faith,
community, and conversation meet.
We create safe spaces for people to grow spiritually,
connect deeply, and walk together in Christ.
</p>
<p class="mt-3">
Our vision is simple:
Build disciples. Build friendships. Build purpose.
</p>
</div>

<div>
<h1 class="hero-title">
COFFEE MEETS<br>
<span>THE WORD.</span>
</h1>
<p class="hero-motto">Thank God Itâ€™s Friday!</p>
<div class="social-icons">
<a href="#"><i data-lucide="instagram"></i></a>
<a href="#"><i data-lucide="facebook"></i></a>
<a href="#"><i data-lucide="youtube"></i></a>
<a href="#"><i data-lucide="mail"></i></a>
<a href="#">
<svg class="tiktok" viewBox="0 0 24 24">
<path d="M21 8.5a6.5 6.5 0 01-6.5-6.5h-4v14a3.5 3.5 0 11-3.5-3.5c.4 0 .8.1 1.2.2v-4a7.5 7.5 0 105.3 7.2V9.7A10.4 10.4 0 0021 12V8.5z"/>
</svg>
</a>
</div>
</div>
</div>
</header>

<!-- MAG -->
<section id="magazine">
<h2 class="text-4xl font-bold text-[#FCA311] mb-10">
Weekly Magazine
</h2>
<div class="mag-preview">
<img src="megimage.jpeg">
<a href="magazine.pdf" target="_blank"
class="block bg-[#FCA311] text-black py-3 rounded mt-3 font-bold">
Download PDF
</a>
</div>
</section>

<!-- EVENTS -->
<section id="events">
<h2 class="text-4xl font-bold text-[#FCA311] mb-4">
Events
</h2>
<p class="text-2xl tracking-[10px] text-white/20 py-20">
COMING SOON
</p>
</section>

<!-- MERCH -->
<section id="merch">
<h2 class="text-4xl font-bold mb-10">The Merch</h2>
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
<img src="merch2.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch3.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch4.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch5.jpeg" class="w-full h-80 object-cover rounded">
<img src="merch6.jpeg" class="w-full h-80 object-cover rounded">
<div class="flex items-center justify-center border border-dashed text-gray-500">
NEW DROPS SOON
</div>
</div>
</section>

<!-- JOIN (REFINED WITH YOUR LOGIC) -->
<section id="join" class="py-24 px-6 bg-[#0a0a0a]">
<div class="max-w-md mx-auto">
<h2 class="text-4xl font-bold text-center mb-8 italic text-[#FCA311] font-['Oswald'] uppercase">
Join Movement
</h2>

<!-- Counter -->
<div id="counterBox" class="bg-[#FCA311]/10 border border-[#FCA311] p-4 mb-6 rounded text-center hidden">
<p class="text-[#FCA311] text-xs font-bold uppercase tracking-widest">
Current Availability: <span id="spotsLeft" class="text-white text-lg ml-2">8</span> Spots Left
</p>
</div>

<form id="regForm" class="space-y-4">

<div>
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">Full Name</label>
<input type="text" id="name" placeholder="YOUR NAME" required class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">
</div>

<div>
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">Email Address</label>
<input type="email" id="email" placeholder="EMAIL@EXAMPLE.COM" required class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">
</div>

<div>
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">Phone Number</label>
<input type="tel" id="phone" placeholder="+251..." required class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none focus:border-[#FCA311]">
</div>

<div class="grid grid-cols-2 gap-4">
<div>
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">Country</label>
<select id="country" onchange="updateCities()" required class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none appearance-none">
<option value="" disabled selected>SELECT</option>
<option value="Ethiopia">Ethiopia</option>
<option value="Germany">Germany</option>
<option value="USA">USA</option>
<option value="Netherlands">Netherlands</option>
<option value="Kenya">Kenya</option>
</select>
</div>
<div>
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">City</label>
<select id="city" onchange="updateSubCities()" required class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none appearance-none">
<option value="" disabled selected>SELECT</option>
</select>
</div>
</div>

<div id="subCityGroup" class="hidden">
<label class="block text-[10px] text-[#FCA311] font-bold uppercase mb-1 tracking-wider">Specific Spot / Area</label>
<select id="subCity" onchange="checkSpots()" class="w-full bg-[#151515] border border-[#333] text-white p-4 rounded outline-none appearance-none">
<option value="" disabled selected>SELECT AREA</option>
</select>
</div>

<button type="submit" id="subBtn" class="w-full bg-[#FCA311] text-black font-black uppercase tracking-widest py-5 rounded mt-4 hover:bg-white transition-colors duration-300">
Confirm Registration
</button>

</form>
</div>
</section>

<script>
lucide.createIcons();

// SECTION SWITCH
function showSection(id){
document.querySelectorAll('section,header').forEach(e=>e.style.display='none');
document.getElementById(id).style.display='block';
document.querySelectorAll('.nav-links button').forEach(b=>b.classList.remove('active-link'));
event.target.classList.add('active-link');
}

// Registration Logic
const SHEETDB_API = "https://sheetdb.io/api/v1/9q45d3e7oe5ks";
const WHATSAPP_NUM = "251910884585";
const LIMIT_PER_SPOT = 8;

const locations = {
"Ethiopia": { "Addis Ababa":["Bole","Ayat","Megenagna","Mexico","Haile Garment","Old Airport"], "Hawassa":["Main Center"], "Adama":["Main Center"] },
"Germany": {"Berlin":["Mitte"]},
"USA":{"Dallas":["Downtown"]},
"Netherlands":{"Amsterdam":["Zuid"]},
"Kenya":{"Nairobi":["Westlands"]}
};

function updateCities(){
const country = document.getElementById('country').value;
const citySel = document.getElementById('city');
citySel.innerHTML = '<option value="" disabled selected>SELECT</option>';
document.getElementById('subCityGroup').classList.add('hidden');
document.getElementById('counterBox').classList.add('hidden');

if(locations[country]){
Object.keys(locations[country]).forEach(city=>citySel.add(new Option(city.toUpperCase(), city)));
}
}

function updateSubCities(){
const country = document.getElementById('country').value;
const city = document.getElementById('city').value;
const subCitySel = document.getElementById('subCity');
const group = document.getElementById('subCityGroup');
const areas = locations[country][city] || [];
subCitySel.innerHTML = '<option value="" disabled selected>SELECT AREA</option>';
areas.forEach(area=>subCitySel.add(new Option(area.toUpperCase(), area)));
group.classList.toggle('hidden', areas.length===0);
}

async function checkSpots(){
const city = document.getElementById('city').value;
const spot = document.getElementById('subCity').value;
const counter = document.getElementById('counterBox');
const btn = document.getElementById('subBtn');

if(!city || !spot) return;
if(city==="Addis Ababa"){
counter.classList.remove('hidden');
try{
const res = await fetch(`${SHEETDB_API}/search?City=${city}&Spot=${spot}`);
const data = await res.json();
const remaining = LIMIT_PER_SPOT - data.length;
document.getElementById('spotsLeft').innerText = Math.max(0, remaining);
btn.disabled = remaining<=0;
btn.innerText = remaining<=0?"LOCATION FULL":"CONFIRM REGISTRATION";
btn.style.backgroundColor = remaining<=0?"#444":"#FCA311";
}catch(e){console.error("Counter Error:",e);}
}
}

document.getElementById('regForm').onsubmit = async (e)=>{
e.preventDefault();
const btn = document.getElementById('subBtn');
const oldText = btn.innerText;
btn.innerText = "PROCESSING...";
const formData = {
Name: document.getElementById('name').value,
Email: document.getElementById('email').value,
Phone: document.getElementById('phone').value,
Country: document.getElementById('country').value,
City: document.getElementById('city').value,
Spot: document.getElementById('subCity').value || "General",
"Registration Date": new Date().toLocaleDateString(),
"Registration Time": new Date().toLocaleTimeString()
};
try{
await fetch(SHEETDB_API,{
method:'POST',
headers:{'Content-Type':'application/json'},
body: JSON.stringify({data:[formData]})
});
const msg=`Hello! I just registered for Bible %26 Coffee.%0A%0A*Name:* ${formData.Name}%0A*Location:* ${formData.City} - ${formData.Spot}`;
window.open(`https://wa.me/${WHATSAPP_NUM}?text=${msg}`,'_blank');
alert("Registration Submitted Successfully!");
btn.innerText = oldText;
document.getElementById('regForm').reset();
checkSpots();
}catch(err){
alert("Submission failed. Please try again.");
btn.innerText = oldText;
}
};
</script>

</body>
</html>
